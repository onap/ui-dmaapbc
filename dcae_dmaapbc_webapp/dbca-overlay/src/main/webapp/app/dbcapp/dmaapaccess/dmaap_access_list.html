<!-- DMaaP Access List. Controller is specified by route provider -->
<div id="page-content">

	<h1 class="heading-page" id="dmaapAccess">DMaaP Access Profiles</h1>

   	<!-- show progress indicator -->
	<div ng-show="dbcapp.isDataLoading">
		<div class="span" style="margin-bottom:20px;">
    		<i class="icon-primary-spinner small" role="img" aria-label="Please wait while the content loads"></i>
    		Please wait while the content loads.
	    </div>
	</div>

	<div ng-hide="dbcapp.isDataLoading">

		<div id="button-search-row">		
			<!-- no button -->
			<div style="float:right;">
		           <div class="form-field form-field__small"> 
					<input 
						type="text"
						placeholder="Search profiles"
						ng-model="dbcapp.searchString"/>
				    <!-- <i class="icon-primary-questionmark"></i> -->
				</div>
			</div>
		</div>

		<div ng-show="dbcapp.isRequestFailed">
			<span class="errorMessageText">{{dbcapp.errMsg}}</span>
		</div>

		<div style="text-align: justify; text-align-last: auto;">Click on
			a radio button to select that profile for use in this web application.
		</div>
		
		<div ng-show="dbcapp.isRequestFailed">
			<span class="errorMessageText">{{dbcapp.errMsg}}</span>
		</div>
		
    	<div 
    		b2b-table 
    		id="dmaap-access-table"
    		class="b2b-table-div" 
    		table-data="dbcapp.tableData" 
    		search-string="dbcapp.searchString" 
    		current-page="dbcapp.currentPageIgnored"
    		next-sort="dbcapp.nextSortIgnored">

	        <table>
	        
	            <thead b2b-table-row type="header">	
					<tr id="th-header-row">
						<th b2b-table-header sortable="false">Selected</th>
						<th b2b-table-header key="name">Name</th>
						<th b2b-table-header key="dmaapUrl">URL</th>
						<th b2b-table-header key="mechId">Mech ID</th>
					</tr>
				</thead>

	            <tbody b2b-table-row type="body" row-repeat="rowData in dbcapp.tableData">
					<tr>
						<td b2b-table-body>
            				<label class="radio">
            					<input
            						type="radio" 
									name="dmaapSelGroup" 
									title="rowData.id"
									ng-value="rowData.id" 
									ng-model="dbcapp.selectDmaapModel.id"
									ng-change="dbcapp.selectDmaapAccess(rowData);">
	                				<i class="skin"></i>
	                				<span></span>
                			</label>
						</td>
						<td b2b-table-body 
							ng-bind="rowData.name"
							ng-click="dbcapp.editDmaapAccessModalPopup(rowData)"></td>
						<td b2b-table-body 
							ng-bind="rowData.dmaapUrl"
							ng-click="dbcapp.editDmaapAccessModalPopup(rowData)"></td>
						<td b2b-table-body 
							ng-bind="rowData.mechId"
							ng-click="dbcapp.editDmaapAccessModalPopup(rowData)"></td>
					</tr>
				</tbody>
			</table>
		</div>

	</div><!-- loading -->
	
</div><!-- page content -->
